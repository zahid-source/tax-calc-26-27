<div class="container">
  <div class="header-container">
    <h3>Tax Calculator (Private Company)</h3>
    <h4>Assessment Year: <b>2026-2027</b></h4>
    <h4>Income Year: <b>01-07-25 to 30-06-26</b></h4>
  </div>

  <label>Calculation Input</label>
  <select [(ngModel)]="calcInput" (change)="isShow = false">
    @for (input of calcInputOptions; track input.value) {
      <option [value]="input.value">{{ input.label }}</option>
    }
  </select>



  @if (calcInput === CALC_INPUT.MONTHLY_SALARY) {
    <label>Monthly Salary</label>
    <p-inputnumber inputId="integeronly" [(ngModel)]="monthlySalary" (keyup)="isShow = false;calcFestival()"
                   placeholder="Enter monthly salary" locale="en-IN"></p-inputnumber>

    <label>Total Bonus</label>
    <p-inputnumber inputId="integeronly" [(ngModel)]="festivalBonus" (keyup)="isShow = false"
                   placeholder="Enter festival salary" locale="en-IN"></p-inputnumber>

  }

  @if (calcInput === CALC_INPUT.TOTAL_INCOME) {
    <label>Total Income With Bonus (yearly)</label>
    <p-inputnumber inputId="integeronly" [(ngModel)]="totalIncome" (keyup)="isShow = false;"
                   placeholder="Enter total income" locale="en-IN"></p-inputnumber>
  }

  <label>Tax Free Limit</label>
  <select [(ngModel)]="taxFreeLimit" (change)="isShow = false">
    @for (input of taxFreeLimitOptions; track input.value) {
      <option [value]="input.value">
        {{ input.label }}
      </option>
    }
  </select>

  <label>Minimum Tax</label>
  <select [(ngModel)]="minTax" (change)="isShow = false">
    @for (input of minTaxOptions; track input.value) {
      <option [value]="input.value">
        {{ input.label }}
      </option>
    }
  </select>


  <button type="submit" style="margin-top: 20px" (click)="calculate()">Calculate</button>

  @if (isShow && totalIncome > 0) {
    <table class="results-table">
      <tbody>
      <tr>
        <td>a. Total Income With Bonus</td>
        <td class="value">{{ formatIndianNumber(totalIncome) }}</td>
      </tr>
      <tr>
        <td>b. Exemption <i>(1/3 of a) max: 5 lakh</i></td>
        <td class="value">{{ formatIndianNumber(exemption) }}</td>
      </tr>
      <tr>
        <td>c. Total Income After Exemption <i>(a-b)</i></td>
        <td class="value">{{ formatIndianNumber(totalIncomeAfterExemption) }}</td>
      </tr>
      <tr>
        <td>d. Tax Without Rebate <i>(slab of c)</i></td>
        <td class="value">{{ formatIndianNumber(totalTax) }}</td>
      </tr>
      <tr>
        <td>e. Max Rebate <i>(3% of c) max: 10 lakh</i></td>
        <td class="value">{{ formatIndianNumber(maxRebate) }}</td>
      </tr>
      <tr>
        <td>f. Tax After Max Rebate <i>(d-e)</i></td>
        <td class="value">{{ formatIndianNumber(taxAfterRebate) }}</td>
      </tr>

        @if (calcInput === CALC_INPUT.MONTHLY_SALARY) {
          <tr>
            <td>g. Monthly TDS <i>(f/12)</i></td>
            <td class="value">{{ formatIndianNumber(monthlyTDS) }}</td>
          </tr>
          <tr>
            <td>h. Monthly Salary After TDS</td>
            <td class="value">{{ formatIndianNumber(monthlySalary - monthlyTDS) }}</td>
          </tr>
        }
      </tbody>
    </table>
  }


  <div class="credit">
    <span class="copyright-icon">Â©</span>
    <a href="https://www.linkedin.com/in/zahid-hassan-2342a2217/" target="_blank">Zahid Hassan</a>
  </div>

</div>
